<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Estudiante</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/registroAlumno.css}" />
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar bg-secondary p-4">
        <div class="container">
            <a class="navbar-brand text-light fs-1">Emplea<span class="text-warning">U</span></a>
            <div class="d-flex gap-3">
                <a th:href="@{/empresas/registroEmpresa}" class="btn-navbar btn-primary-nav">
                    <i class="bi bi-building-fill me-2"></i>Eres Empresa?
                </a>
                <a th:href="@{/login}" class="btn-navbar">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Ingresar
                </a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <div class="header-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center header-content">
                    <h1 class="display-5 fw-bold mb-3">Registro de Estudiante</h1>
                    <p class="lead mb-0 opacity-90">
                        Crea tu perfil profesional y descubre las mejores oportunidades de práctica
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="form-container fade-in">
                    <!-- Form -->
                    <form th:action="@{/alumnos/registrarAlumno}" method="POST" autocomplete="off" id="studentRegistrationForm"
                        novalidate th:object="${alumno}">
                        <!-- Información Personal -->
                        <div class="form-step active" id="formStep1">
                            <div class="form-section">
                                <div class="section-header slide-up">
                                    <h4>
                                        <div class="section-icon">
                                            <i class="bi bi-person"></i>
                                        </div>
                                        Información Personal
                                    </h4>
                                </div>

                                <input type="hidden" name="alumno_id" th:field="*{alumnoId}" />
                                <div class="row">
                                    <!-- Nombres y Apellidos -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-person-badge"></i>
                                            Nombres *
                                        </label>
                                        <input type="text" class="form-control" name="nombre" th:field="*{nombre}" 
                                            required placeholder="Ingresa tus nombres">
                                        <div class="invalid-feedback">Por favor ingresa tus nombres</div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-person-badge"></i>
                                            Apellidos *
                                        </label>
                                        <input type="text" class="form-control" name="apellido" th:field="*{apellido}" 
                                            required placeholder="Ingresa tus apellidos">
                                        <div class="invalid-feedback">Por favor ingresa tus apellidos</div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- DNI -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-card-text"></i>
                                            DNI *
                                        </label>
                                        <input type="text" class="form-control" name="dni" th:field="*{dni}"  required
                                            placeholder="Ingresa tu número de documento" pattern="\d{8}" maxlength="8">
                                        <div class="invalid-feedback">El DNI debe tener 8 dígitos</div>
                                    </div>
                                    <!-- Universidad -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-building"></i>
                                            Universidad *
                                        </label>
                                        <select title="seleccionarUniversidad" class="form-select" name="universidad" 
                                            th:field="*{universidad}" required>
                                            <option value="" disabled selected>Selecciona tu universidad</option>
                                            <option value="Universidad Tecnológica del Perú">Universidad Tecnológica del Perú</option>
                                        </select>
                                        <div class="invalid-feedback">Por favor selecciona tu universidad</div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Carrera Profesional -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-mortarboard"></i>
                                            Carrera Profesional *
                                        </label>
                                        <input type="text" class="form-control" name="carrera" th:field="*{carrera}" 
                                            required placeholder="Ej: Ingeniería de Sistemas">
                                        <div class="invalid-feedback">Por favor ingresa tu carrera profesional</div>
                                    </div>
                                    <!-- Ciclo Actual -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-calendar-check"></i>
                                            Ciclo Actual *
                                        </label>
                                        <select title="seleccionarciclo" class="form-select" name="ciclo" th:field="*{ciclo}"
                                             required>
                                            <option value="">Selecciona tu ciclo</option>
                                            <option value="7">7mo ciclo</option>
                                            <option value="8">8vo ciclo</option>
                                            <option value="9">9no ciclo</option>
                                            <option value="10">10mo ciclo</option>
                                            <option value="egresado">Egresado</option>
                                        </select>
                                        <div class="invalid-feedback">Por favor selecciona tu ciclo actual</div>
                                    </div>
                                </div>

                                <!-- Género -->
                                <div class="mb-4">
                                    <label class="form-label">
                                        <i class="bi bi-gender-ambiguous"></i>
                                        Género *
                                    </label>
                                    <div class="gender">
                                        <label class="gender-option">
                                            <input type="radio" name="genero" th:field="*{genero}"  value="Femenino"
                                                required />
                                            <i class="bi bi-gender-female me-2"></i>
                                            Femenino
                                        </label>
                                        <label class="gender-option">
                                            <input type="radio" name="genero" th:field="*{genero}"  value="Masculino"
                                                required />
                                            <i class="bi bi-gender-male me-2"></i>
                                            Masculino
                                        </label>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Fecha de Nacimiento -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-calendar-date"></i>
                                            Fecha de Nacimiento *
                                        </label>
                                        <input title="fechanac" type="date" class="form-control" id="fechaNacimiento" 
                                            name="fecha_nacimiento" th:field="*{fechaNacimiento}"  required
                                            onchange="validarEdad()" />
                                        <div class="invalid-feedback" id="fechaError">
                                            Debes tener al menos 18 años para registrarte
                                        </div>
                                    </div>
                                    <!-- Teléfono -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-phone"></i>
                                            Teléfono *
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="bi bi-phone"></i>
                                            </span>
                                            <input type="tel" class="form-control" name="telefono" th:field="*{telefono}" maxlength="9"
                                             required placeholder="987 654 321">
                                        </div>
                                        <div class="invalid-feedback">Por favor ingresa un teléfono válido</div>
                                    </div>
                                </div>

                                <div class="row">
                                    <!-- Ubicación -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-geo-alt"></i>
                                            Ubicación *
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="bi bi-geo-alt"></i>
                                            </span>
                                            <input type="text" class="form-control" name="ubicacion" th:field="*{ubicacion}"
                                                 required placeholder="Ciudad de residencia">
                                        </div>
                                        <div class="invalid-feedback">Por favor ingresa tu ubicación</div>
                                    </div>
                                    <!-- Email -->
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-envelope"></i>
                                            Email Universitario *
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="bi bi-envelope"></i>
                                            </span>
                                            <input type="email" class="form-control"  name="email" th:field="*{usuario.email}"
                                                placeholder="u21239963@utp.edu.pe" required>
                                        </div>
                                        <div class="invalid-feedback">Por favor ingresa un email universitario válido
                                        </div>
                                    </div>
                                </div>

                                <!-- Contraseñas -->
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-lock"></i>
                                            Contraseña *
                                        </label>
                                        <input type="password" class="form-control" name="contrasena" th:field="*{usuario.contrasena}"
                                             required placeholder="Mínimo 8 caracteres">
                                        <div class="invalid-feedback">La contraseña debe tener al menos 8 caracteres
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <label class="form-label">
                                            <i class="bi bi-lock-fill"></i>
                                            Confirmar Contraseña *
                                        </label>
                                        <input type="password" class="form-control" name="confirmarContrasena" th:field="*{usuario.confirmarContrasena}"
                                         required placeholder="Confirma tu contraseña">
                                        <div class="invalid-feedback">Las contraseñas no coinciden</div>
                                    </div>
                                </div>

                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle me-2"></i>
                                    <strong>¡Bienvenido a EmpleaU!</strong> Una vez registrado, podrás completar tu
                                    perfil
                                    profesional y comenzar a explorar las mejores oportunidades de práctica.
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center mb-4">
                            <button type="submit" class="btn btn-primary-red" id="submitBtn">
                                <span class="loading-spinner me-2"></span>
                                <i class="bi bi-check-circle me-2"></i>
                                Crear Mi Cuenta
                            </button>
                        </div>
                    </form>

                    <div class="login-link">
                        <i class="bi bi-person-check me-2"></i>
                        <a th:href="@{/login}">¿Ya tienes una cuenta? Inicia sesión aquí</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">EmpleaU</h5>
                    <p class="text-white-50 mb-3">
                        Conectando estudiantes con las mejores oportunidades profesionales.
                    </p>
                    <div class="d-flex gap-3">
                        <a title="facebook" href="#" class="footer-link">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a title="twitter" href="#" class="footer-link">
                            <i class="bi bi-twitter"></i>
                        </a>
                        <a title="linkedin" href="#" class="footer-link">
                            <i class="bi bi-linkedin"></i>
                        </a>
                        <a title="instagram" href="#" class="footer-link">
                            <i class="bi bi-instagram"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Estudiantes</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Buscar Prácticas</a></li>
                        <li><a href="#" class="text-white-50">Mi Perfil</a></li>
                        <li><a href="#" class="text-white-50">Postulaciones</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Empresas</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Publicar Ofertas</a></li>
                        <li><a href="#" class="text-white-50">Buscar Talento</a></li>
                        <li><a href="#" class="text-white-50">Planes</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Soporte</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Centro de Ayuda</a></li>
                        <li><a href="#" class="text-white-50">Contacto</a></li>
                        <li><a href="#" class="text-white-50">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Legal</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Términos</a></li>
                        <li><a href="#" class="text-white-50">Privacidad</a></li>
                        <li><a href="#" class="text-white-50">Cookies</a></li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 opacity-25">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-white-50">
                        &copy; 2025 EmpleaU. Todos los derechos reservados.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0 text-white-50">
                        Hecho con <i class="bi bi-heart-fill text-danger"></i> en Perú
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/registroAlumno.js}"></script>
</body>

</html>